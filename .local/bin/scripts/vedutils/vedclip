#!/bin/bash

# Quickly snip clips out of videos
#
# Usage:
#   vedclip <input_file> <start_time> <end_time> [output_file]
# Example:
#   vedclip boring_2h_marathon.mkv 1:24:32 1:24:56 poggers_frag_clip.mkv
#
# GPLv3 - Grim Kriegor <grimkriegor@krutt.org>
# 2020

input_file="$1"
start_time="$2"
end_time="$3"
output_file="$4"

input_file_name="${input_file%.*}"
input_file_ext="${input_file##*.}"

[[ -z $output_file ]] && \
  output_file="clip_$input_file_name.$input_file_ext"

ffmpeg \
  -i "$input_file" \
  -ss $start_time \
  -to $end_time \
  -c:v copy \
  -c:a copy \
  "$output_file"
